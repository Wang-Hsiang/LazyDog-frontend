<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Review List</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/operatorCamera.css" />
    <!-- 自訂樣式 React沒有用 -->
    <style>
      .suTable th,
      .suTable td {
        vertical-align: middle;
        text-align: center;
      }

      .suBadge {
        font-size: 0.85rem;
        padding: 6px 12px;
        border-radius: 8px;
      }

      .suStars {
        color: #ffc107;
      }

      .suBtn-action {
        min-width: 100px;
      }
    </style>
  </head>

  <body>
    <main>
      <div class="container mt-5">
        <div class="row">
          <!-- 左邊 -->
          <div class="col-md-3">
            <div class="card p-3">
              <div class="text-center">
                <div class="position-relative d-inline-block">
                  <img
                    src="../../public/images/hotel/hotel-images/page-image/Dog5.png"
                    class="rounded-circle avatar-img"
                    alt="User Avatar"
                  />
                  <!-- 相機按鈕Dropdown) -->
                  <div class="dropdown">
                    <button
                      class="btn btn-light camera-icon p-0"
                      type="button"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      <img
                        src="../../public/images/hotel/hotel-images/page-image/icon-camera.png"
                        alt="相機"
                        class="camera-icon-img"
                      />
                    </button>
                    <ul class="dropdown-menu">
                      <li>
                        <button
                          class="dropdown-item text-danger"
                          id="deletePhoto"
                        >
                          刪除照片
                        </button>
                      </li>
                      <li>
                        <label for="uploadPhoto" class="dropdown-item"
                          >上傳照片</label
                        >
                        <input
                          type="file"
                          id="uploadPhoto"
                          accept="image/*"
                          class="d-none"
                        />
                      </li>
                    </ul>
                  </div>
                </div>
                <h5 class="mt-2">陳大方</h5>
                <p class="text-muted">165846hote@gmail.com</p>
                <button class="btn btn-outline-success btn-sm">已認證</button>
              </div>
              <hr />
              <ul class="list-unstyled text-start">
                <li class="py-2">
                  <a
                    href="operatorDetail.html"
                    class="text-decoration-none text-dark"
                  >
                    <i class="bi bi-person-fill me-2"></i>負責人資訊
                  </a>
                </li>
                <li class="py-2">
                  <a
                    href="operatorHotelList.html"
                    class="text-decoration-none text-dark"
                  >
                    <i class="bi bi-house-heart-fill me-2"></i>旅館資訊
                  </a>
                </li>
                <li class="py-2">
                  <a
                    href="operatorReview.html"
                    class="text-decoration-none text-dark"
                  >
                    <i class="bi bi-card-list me-2"></i>旅館評論
                  </a>
                </li>
                <li class="py-2">
                  <a
                    href="operatorCouponList.html"
                    class="text-decoration-none text-dark"
                  >
                    <i class="bi bi-ticket-perforated me-2"></i>旅館優惠券
                  </a>
                </li>
              </ul>
            </div>
          </div>

          <!-- 右邊 -->
          <div class="col-md-9">
            <h3 class="mb-4">評論列表</h3>
            <div class="table-responsive">
              <table class="table suTable table-striped table-hover">
                <thead class="table-light">
                  <tr>
                    <th>顧客名稱</th>
                    <th>訂單編號</th>
                    <th>評論日期</th>
                    <th>評分</th>
                    <th>評論內容</th>
                    <th>是否回覆</th>
                    <th>狀態</th>
                    <th>操作</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>王大明</td>
                    <td>SB001</td>
                    <td>2024/03/10</td>
                    <td><span class="suStars">⭐⭐⭐⭐⭐</span></td>
                    <td>房間很乾淨，服務很好！</td>
                    <td>已回覆</td>
                    <td><span class="badge suBadge bg-success">公開</span></td>
                    <td>
                      <button
                        class="btn btn-sm btn-primary suBtn-action"
                        data-bs-toggle="modal"
                        data-bs-target="#reviewModal"
                        onclick="loadReview('王大明', 'SB001', '2024/03/10', '⭐⭐⭐⭐⭐', '房間很乾淨，服務很好！')"
                      >
                        檢視 / 回覆
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>李小華</td>
                    <td>SB002</td>
                    <td>2024/03/09</td>
                    <td><span class="suStars">⭐⭐⭐</span></td>
                    <td>整體不錯，但早餐選擇少了一點。</td>
                    <td>未回覆</td>
                    <td>
                      <span class="badge suBadge bg-warning">待處理</span>
                    </td>
                    <td>
                      <button
                        class="btn btn-sm btn-primary suBtn-action"
                        data-bs-toggle="modal"
                        data-bs-target="#reviewModal"
                        onclick="loadReview('李小華', 'SB002', '2024/03/09', '⭐⭐⭐', '整體不錯，但早餐選擇少了一點。')"
                      >
                        檢視 / 回覆
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Modal -->
    <div
      class="modal fade"
      id="reviewModal"
      tabindex="-1"
      aria-labelledby="reviewModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="reviewModalLabel">評論詳細資訊</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p><strong>顧客名稱：</strong> <span id="modalCustomer"></span></p>
            <p><strong>訂單編號：</strong> <span id="modalOrder"></span></p>
            <p><strong>評論日期：</strong> <span id="modalDate"></span></p>
            <p><strong>評分：</strong> <span id="modalRating"></span></p>
            <p><strong>評論內容：</strong></p>
            <p id="modalContent" class="border p-2"></p>
            <label class="form-label mt-3">回覆：</label>
            <textarea
              class="form-control"
              rows="3"
              id="replyMessage"
            ></textarea>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              取消
            </button>
            <button type="button" class="btn btn-primary">送出回覆</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      function loadReview(customer, order, date, rating, content) {
        document.getElementById("modalCustomer").textContent = customer;
        document.getElementById("modalOrder").textContent = order;
        document.getElementById("modalDate").textContent = date;
        document.getElementById("modalRating").textContent = rating;
        document.getElementById("modalContent").textContent = content;
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
